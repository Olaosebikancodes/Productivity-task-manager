<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Productivity Task Manager</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        :root {
            --primary: #4361ee;
            --secondary: #3f37c9;
            --success: #4cc9f0;
            --warning: #f72585;
            --danger: #e63946;
            --light: #f8f9fa;
            --dark: #212529;
            --gray: #6c757d;
            --todo: #ffbe0b;
            --in-progress: #fb5607;
            --done: #06d6a0;
            --review: #3a86ff;
            --priority-high: #e63946;
            --priority-medium: #ffb703;
            --priority-low: #06d6a0;
        }

        body {
            background: linear-gradient(135deg, #f5f7fa 0%, #e4edf5 100%);
            min-height: 100vh;
            padding: 20px;
            color: var(--dark);
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        header {
            text-align: center;
            padding: 20px 0;
            margin-bottom: 30px;
        }

        header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            color: var(--secondary);
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }

        header p {
            color: var(--gray);
            font-size: 1.1rem;
            max-width: 600px;
            margin: 0 auto;
        }

        .app-container {
            display: grid;
            grid-template-columns: 300px 1fr;
            gap: 25px;
        }

        .sidebar {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.08);
            height: fit-content;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--dark);
        }

        .form-control {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #e2e8f0;
            border-radius: 10px;
            font-size: 1rem;
            transition: all 0.3s;
        }

        .form-control:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(67, 97, 238, 0.2);
        }

        .btn {
            display: block;
            width: 100%;
            padding: 14px;
            border: none;
            border-radius: 10px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            text-align: center;
        }

        .btn-primary {
            background: var(--primary);
            color: white;
        }

        .btn-primary:hover {
            background: var(--secondary);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(67, 97, 238, 0.4);
        }

        .stats {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 20px;
            margin-top: 25px;
        }

        .stats h3 {
            margin-bottom: 15px;
            color: var(--secondary);
        }

        .stat-item {
            display: flex;
            justify-content: space-between;
            padding: 10px 0;
            border-bottom: 1px solid #e2e8f0;
        }

        .stat-item:last-child {
            border-bottom: none;
        }

        .board {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 25px;
        }

        .column {
            background: white;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.08);
        }

        .column-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding-bottom: 15px;
            margin-bottom: 20px;
            border-bottom: 3px solid;
        }

        .column-title {
            font-size: 1.3rem;
            font-weight: 700;
        }

        .task-count {
            background: rgba(0,0,0,0.08);
            padding: 3px 10px;
            border-radius: 20px;
            font-size: 0.9rem;
        }

        .todo .column-header {
            border-color: var(--todo);
            color: var(--todo);
        }

        .in-progress .column-header {
            border-color: var(--in-progress);
            color: var(--in-progress);
        }

        .review .column-header {
            border-color: var(--review);
            color: var(--review);
        }

        .done .column-header {
            border-color: var(--done);
            color: var(--done);
        }

        .tasks {
            min-height: 400px;
        }

        .task {
            background: white;
            border-radius: 12px;
            padding: 18px;
            margin-bottom: 15px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.05);
            cursor: move;
            border-left: 4px solid;
            transition: transform 0.3s, box-shadow 0.3s;
        }

        .task:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(0,0,0,0.1);
        }

        .task-high {
            border-left-color: var(--priority-high);
        }

        .task-medium {
            border-left-color: var(--priority-medium);
        }

        .task-low {
            border-left-color: var(--priority-low);
        }

        .task-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }

        .task-title {
            font-weight: 600;
            font-size: 1.1rem;
        }

        .task-category {
            display: inline-block;
            padding: 3px 10px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 500;
            background: #e9ecef;
        }

        .task-description {
            color: var(--gray);
            margin: 15px 0;
            font-size: 0.95rem;
            line-height: 1.5;
        }

        .task-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 15px;
        }

        .task-priority {
            font-size: 0.85rem;
            font-weight: 600;
            padding: 4px 12px;
            border-radius: 20px;
        }

        .priority-high {
            background: rgba(230, 57, 70, 0.15);
            color: var(--priority-high);
        }

        .priority-medium {
            background: rgba(255, 183, 3, 0.15);
            color: var(--priority-medium);
        }

        .priority-low {
            background: rgba(6, 214, 160, 0.15);
            color: var(--priority-low);
        }

        .task-actions {
            display: flex;
            gap: 8px;
        }

        .task-actions button {
            background: none;
            border: none;
            color: var(--gray);
            cursor: pointer;
            font-size: 1rem;
            transition: color 0.3s;
        }

        .task-actions button:hover {
            color: var(--primary);
        }

        .drag-over {
            background: rgba(67, 97, 238, 0.05);
            border: 2px dashed var(--primary);
        }

        .empty-state {
            text-align: center;
            padding: 40px 20px;
            color: var(--gray);
        }

        .empty-state i {
            font-size: 3rem;
            margin-bottom: 15px;
            opacity: 0.3;
        }

        .empty-state p {
            font-size: 1.1rem;
        }

        @media (max-width: 992px) {
            .app-container {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1><i class="fas fa-tasks"></i> Productivity Task Manager</h1>
            <p>Drag and drop tasks between columns. All data is saved automatically to your browser.</p>
        </header>

        <div class="app-container">
            <div class="sidebar">
                <h2>Add New Task</h2>
                <form id="task-form">
                    <div class="form-group">
                        <label for="title">Task Title</label>
                        <input type="text" id="title" class="form-control" placeholder="What needs to be done?" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="description">Description</label>
                        <textarea id="description" class="form-control" rows="3" placeholder="Add details..."></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label for="category">Category</label>
                        <select id="category" class="form-control" required>
                            <option value="">Select Category</option>
                            <option value="work">Work</option>
                            <option value="personal">Personal</option>
                            <option value="shopping">Shopping</option>
                            <option value="health">Health</option>
                            <option value="learning">Learning</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="priority">Priority</label>
                        <select id="priority" class="form-control" required>
                            <option value="">Select Priority</option>
                            <option value="high">High</option>
                            <option value="medium">Medium</option>
                            <option value="low">Low</option>
                        </select>
                    </div>
                    
                    <button type="submit" class="btn btn-primary">
                        <i class="fas fa-plus"></i> Add Task
                    </button>
                </form>
                
                <div class="stats">
                    <h3>Task Statistics</h3>
                    <div class="stat-item">
                        <span>Total Tasks:</span>
                        <span id="total-tasks">0</span>
                    </div>
                    <div class="stat-item">
                        <span>To Do:</span>
                        <span id="todo-tasks">0</span>
                    </div>
                    <div class="stat-item">
                        <span>In Progress:</span>
                        <span id="inprogress-tasks">0</span>
                    </div>
                    <div class="stat-item">
                        <span>In Review:</span>
                        <span id="review-tasks">0</span>
                    </div>
                    <div class="stat-item">
                        <span>Completed:</span>
                        <span id="done-tasks">0</span>
                    </div>
                </div>
            </div>
            
            <div class="board">
                <div class="column todo" id="todo-column">
                    <div class="column-header">
                        <h3 class="column-title"><i class="fas fa-clipboard-list"></i> To Do</h3>
                        <span class="task-count">0</span>
                    </div>
                    <div class="tasks" id="todo-tasks-container">
                        <div class="empty-state">
                            <i class="fas fa-inbox"></i>
                            <p>No tasks here yet</p>
                        </div>
                    </div>
                </div>
                
                <div class="column in-progress" id="in-progress-column">
                    <div class="column-header">
                        <h3 class="column-title"><i class="fas fa-spinner"></i> In Progress</h3>
                        <span class="task-count">0</span>
                    </div>
                    <div class="tasks" id="in-progress-tasks-container">
                        <div class="empty-state">
                            <i class="fas fa-cogs"></i>
                            <p>No tasks in progress</p>
                        </div>
                    </div>
                </div>
                
                <div class="column review" id="review-column">
                    <div class="column-header">
                        <h3 class="column-title"><i class="fas fa-search"></i> Review</h3>
                        <span class="task-count">0</span>
                    </div>
                    <div class="tasks" id="review-tasks-container">
                        <div class="empty-state">
                            <i class="fas fa-eye"></i>
                            <p>No tasks to review</p>
                        </div>
                    </div>
                </div>
                
                <div class="column done" id="done-column">
                    <div class="column-header">
                        <h3 class="column-title"><i class="fas fa-check-circle"></i> Done</h3>
                        <span class="task-count">0</span>
                    </div>
                    <div class="tasks" id="done-tasks-container">
                        <div class="empty-state">
                            <i class="fas fa-trophy"></i>
                            <p>No tasks completed yet</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Task Manager Class
        class TaskManager {
            constructor() {
                this.tasks = JSON.parse(localStorage.getItem('tasks')) || [];
                this.currentId = this.tasks.length > 0 ? Math.max(...this.tasks.map(t => t.id)) + 1 : 1;
                
                // Initialize
                this.init();
            }
            
            init() {
                this.cacheElements();
                this.setupEventListeners();
                this.renderTasks();
                this.updateStats();
            }
            
            cacheElements() {
                this.taskForm = document.getElementById('task-form');
                this.taskContainers = {
                    'todo': document.getElementById('todo-tasks-container'),
                    'in-progress': document.getElementById('in-progress-tasks-container'),
                    'review': document.getElementById('review-tasks-container'),
                    'done': document.getElementById('done-tasks-container')
                };
            }
            
            setupEventListeners() {
                // Form submission
                this.taskForm.addEventListener('submit', (e) => {
                    e.preventDefault();
                    this.addTaskFromForm();
                });
                
                // Setup drag and drop for columns
                Object.keys(this.taskContainers).forEach(status => {
                    const container = this.taskContainers[status];
                    
                    container.addEventListener('dragover', (e) => {
                        e.preventDefault();
                        container.classList.add('drag-over');
                    });
                    
                    container.addEventListener('dragleave', () => {
                        container.classList.remove('drag-over');
                    });
                    
                    container.addEventListener('drop', (e) => {
                        e.preventDefault();
                        container.classList.remove('drag-over');
                        
                        const taskId = parseInt(e.dataTransfer.getData('text/plain'));
                        this.updateTaskStatus(taskId, status);
                    });
                });
            }
            
            addTaskFromForm() {
                const title = document.getElementById('title').value;
                const description = document.getElementById('description').value;
                const category = document.getElementById('category').value;
                const priority = document.getElementById('priority').value;
                
                this.addTask(title, description, category, priority, 'todo');
                
                // Reset form
                this.taskForm.reset();
            }
            
            addTask(title, description, category, priority, status = 'todo') {
                const task = {
                    id: this.currentId++,
                    title,
                    description,
                    category,
                    priority,
                    status,
                    createdAt: new Date().toISOString()
                };
                
                this.tasks.push(task);
                this.saveTasks();
                this.renderTasks();
                this.updateStats();
                
                return task;
            }
            
            updateTaskStatus(taskId, newStatus) {
                const task = this.tasks.find(t => t.id === taskId);
                if (task) {
                    task.status = newStatus;
                    this.saveTasks();
                    this.renderTasks();
                    this.updateStats();
                }
            }
            
            deleteTask(taskId) {
                this.tasks = this.tasks.filter(task => task.id !== taskId);
                this.saveTasks();
                this.renderTasks();
                this.updateStats();
            }
            
            saveTasks() {
                localStorage.setItem('tasks', JSON.stringify(this.tasks));
            }
            
            renderTasks() {
                // Clear all containers first
                Object.values(this.taskContainers).forEach(container => {
                    container.innerHTML = '';
                });
                
                if (this.tasks.length === 0) {
                    this.taskContainers.todo.innerHTML = `
                        <div class="empty-state">
                            <i class="fas fa-inbox"></i>
                            <p>No tasks here yet</p>
                        </div>
                    `;
                    return;
                }
                
                // Group tasks by status
                const tasksByStatus = {
                    'todo': [],
                    'in-progress': [],
                    'review': [],
                    'done': []
                };
                
                this.tasks.forEach(task => {
                    tasksByStatus[task.status].push(task);
                });
                
                // Render tasks for each status
                Object.keys(tasksByStatus).forEach(status => {
                    const container = this.taskContainers[status];
                    const tasks = tasksByStatus[status];
                    
                    // Update task count
                    const columnHeader = container.closest('.column').querySelector('.task-count');
                    columnHeader.textContent = tasks.length;
                    
                    if (tasks.length === 0) {
                        container.innerHTML = `
                            <div class="empty-state">
                                <i class="fas ${this.getEmptyStateIcon(status)}"></i>
                                <p>${this.getEmptyStateText(status)}</p>
                            </div>
                        `;
                    } else {
                        tasks.forEach(task => {
                            container.appendChild(this.createTaskElement(task));
                        });
                    }
                });
            }
            
            createTaskElement(task) {
                const taskElement = document.createElement('div');
                taskElement.className = `task task-${task.priority}`;
                taskElement.draggable = true;
                taskElement.dataset.id = task.id;
                
                // Drag event handlers
                taskElement.addEventListener('dragstart', (e) => {
                    e.dataTransfer.setData('text/plain', task.id);
                    setTimeout(() => {
                        taskElement.classList.add('dragging');
                    }, 0);
                });
                
                taskElement.addEventListener('dragend', () => {
                    taskElement.classList.remove('dragging');
                });
                
                taskElement.innerHTML = `
                    <div class="task-header">
                        <h4 class="task-title">${task.title}</h4>
                        <span class="task-category">${task.category}</span>
                    </div>
                    <p class="task-description">${task.description || 'No description provided'}</p>
                    <div class="task-footer">
                        <span class="task-priority priority-${task.priority}">${task.priority.charAt(0).toUpperCase() + task.priority.slice(1)}</span>
                        <div class="task-actions">
                            <button class="delete-btn" data-id="${task.id}" title="Delete task">
                                <i class="fas fa-trash-alt"></i>
                            </button>
                        </div>
                    </div>
                `;
                
                // Add delete event listener
                const deleteBtn = taskElement.querySelector('.delete-btn');
                deleteBtn.addEventListener('click', () => {
                    this.deleteTask(task.id);
                });
                
                return taskElement;
            }
            
            updateStats() {
                document.getElementById('total-tasks').textContent = this.tasks.length;
                document.getElementById('todo-tasks').textContent = this.tasks.filter(t => t.status === 'todo').length;
                document.getElementById('inprogress-tasks').textContent = this.tasks.filter(t => t.status === 'in-progress').length;
                document.getElementById('review-tasks').textContent = this.tasks.filter(t => t.status === 'review').length;
                document.getElementById('done-tasks').textContent = this.tasks.filter(t => t.status === 'done').length;
            }
            
            getEmptyStateIcon(status) {
                const icons = {
                    'todo': 'fa-inbox',
                    'in-progress': 'fa-cogs',
                    'review': 'fa-eye',
                    'done': 'fa-trophy'
                };
                return icons[status] || 'fa-inbox';
            }
            
            getEmptyStateText(status) {
                const texts = {
                    'todo': 'No tasks here yet',
                    'in-progress': 'No tasks in progress',
                    'review': 'No tasks to review',
                    'done': 'No tasks completed yet'
                };
                return texts[status] || 'No tasks';
            }
        }

        // Initialize the task manager when DOM is loaded
        document.addEventListener('DOMContentLoaded', () => {
            const taskManager = new TaskManager();
            
            // Add some sample tasks if empty
            if (taskManager.tasks.length === 0) {
                taskManager.addTask('Create project plan', 'Outline the project requirements and timeline', 'work', 'high');
                taskManager.addTask('Research competitors', 'Analyze similar products in the market', 'work', 'medium');
                taskManager.addTask('Buy groceries', 'Milk, eggs, bread, fruits, and vegetables', 'shopping', 'low');
                taskManager.addTask('Finish report', 'Complete the quarterly report for management', 'work', 'high');
                taskManager.addTask('Morning jog', '30 minutes around the park', 'health', 'medium');
                taskManager.addTask('Read new book', 'Start reading the new sci-fi novel', 'personal', 'low');
                taskManager.addTask('Learn JavaScript', 'Complete the advanced JavaScript course', 'learning', 'high');
            }
        });
    </script>
</body>
</html>